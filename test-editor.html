<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume Editor Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        .btn {
            padding: 10px 20px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .btn:hover {
            background: #0056b3;
        }
        .message {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
        }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        #output {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 4px;
            font-family: monospace;
            white-space: pre-wrap;
            max-height: 400px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>Resume Editor Test Page</h1>
        <p>This page tests basic functionality of the resume editor.</p>
        
        <div class="test-buttons">
            <button class="btn" onclick="testBasicFunctionality()">Test Basic Functions</button>
            <button class="btn" onclick="testDataCollection()">Test Data Collection</button>
            <button class="btn" onclick="testLocalStorage()">Test Local Storage</button>
            <button class="btn" onclick="clearOutput()">Clear Output</button>
        </div>
        
        <div id="messages"></div>
        <div id="output"></div>

        <!-- Simple form for testing -->
        <form id="test-form" style="margin-top: 20px;">
            <h3>Test Form</h3>
            <div style="margin: 10px 0;">
                <label>Name:</label>
                <input type="text" name="testName" value="Test User" style="margin-left: 10px; padding: 5px;">
            </div>
            <div style="margin: 10px 0;">
                <label>Email:</label>
                <input type="email" name="testEmail" value="test@example.com" style="margin-left: 10px; padding: 5px;">
            </div>
        </form>
    </div>

    <script>
        function log(message) {
            const output = document.getElementById('output');
            const timestamp = new Date().toLocaleTimeString();
            output.textContent += `[${timestamp}] ${message}\n`;
            output.scrollTop = output.scrollHeight;
        }

        function showMessage(message, type) {
            const messagesDiv = document.getElementById('messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}`;
            messageDiv.textContent = message;
            messagesDiv.appendChild(messageDiv);
            
            setTimeout(() => {
                if (messageDiv.parentNode) {
                    messageDiv.remove();
                }
            }, 5000);
        }

        function clearOutput() {
            document.getElementById('output').textContent = '';
            document.getElementById('messages').innerHTML = '';
        }

        function testBasicFunctionality() {
            log('Testing basic JavaScript functionality...');
            
            try {
                // Test basic operations
                log('✓ Basic JavaScript works');
                
                // Test DOM manipulation
                const testElement = document.createElement('div');
                testElement.textContent = 'Test';
                log('✓ DOM manipulation works');
                
                // Test localStorage
                localStorage.setItem('test', 'value');
                const testValue = localStorage.getItem('test');
                if (testValue === 'value') {
                    log('✓ localStorage works');
                    localStorage.removeItem('test');
                } else {
                    log('✗ localStorage not working');
                }
                
                showMessage('Basic functionality test completed', 'success');
                
            } catch (error) {
                log('✗ Error in basic functionality: ' + error.message);
                showMessage('Basic functionality test failed', 'error');
            }
        }

        function testDataCollection() {
            log('Testing form data collection...');
            
            try {
                const form = document.getElementById('test-form');
                const formData = new FormData(form);
                
                log('Form data:');
                for (let [key, value] of formData.entries()) {
                    log(`  ${key}: ${value}`);
                }
                
                // Test JSON conversion
                const dataObject = {};
                for (let [key, value] of formData.entries()) {
                    dataObject[key] = value;
                }
                
                const jsonString = JSON.stringify(dataObject);
                log('JSON conversion: ' + jsonString);
                
                const parsedData = JSON.parse(jsonString);
                log('✓ JSON parsing works');
                
                showMessage('Data collection test completed', 'success');
                
            } catch (error) {
                log('✗ Error in data collection: ' + error.message);
                showMessage('Data collection test failed', 'error');
            }
        }

        function testLocalStorage() {
            log('Testing localStorage operations...');
            
            try {
                const testData = {
                    name: 'Test User',
                    email: 'test@example.com',
                    timestamp: new Date().toISOString()
                };
                
                // Save to localStorage
                localStorage.setItem('testResumeData', JSON.stringify(testData));
                log('✓ Data saved to localStorage');
                
                // Retrieve from localStorage
                const savedData = localStorage.getItem('testResumeData');
                if (savedData) {
                    const parsedData = JSON.parse(savedData);
                    log('✓ Data retrieved from localStorage:');
                    log(`  Name: ${parsedData.name}`);
                    log(`  Email: ${parsedData.email}`);
                    log(`  Timestamp: ${parsedData.timestamp}`);
                } else {
                    log('✗ No data found in localStorage');
                }
                
                // Clean up
                localStorage.removeItem('testResumeData');
                log('✓ Test data cleaned up');
                
                showMessage('localStorage test completed', 'success');
                
            } catch (error) {
                log('✗ Error in localStorage test: ' + error.message);
                showMessage('localStorage test failed', 'error');
            }
        }

        // Run basic test on page load
        document.addEventListener('DOMContentLoaded', () => {
            log('Test page loaded successfully');
            log('Ready to test resume editor functionality');
        });
    </script>
</body>
</html>